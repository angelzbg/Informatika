drop table authors, books, clients, orders;

CREATE TABLE AUTHORS(
AUTHOR_ID IDENTITY NOT NULL,
AUTHOR_NUMBER INT AUTO_INCREMENT NOT NULL UNIQUE,
NAME NVARCHAR(100) NOT NULL UNIQUE
);

INSERT INTO AUTHORS VALUES(NULL, NULL, 'ИЗТРИТ');
INSERT INTO AUTHORS VALUES(NULL, 999, 'име');
DELETE FROM AUTHORS WHERE AUTHOR_NUMBER=999;
select * from authors;

CREATE TABLE BOOKS(
BOOK_ID IDENTITY NOT NULL,
BOOK_NUMBER INT AUTO_INCREMENT NOT NULL UNIQUE,
TITLE NVARCHAR(100) NOT NULL,
AUTHOR_NUMBER INT DEFAULT 1,
ISBN VARCHAR(13) UNIQUE NOT NULL,
COUNT SMALLINT NOT NULL CHECK(COUNT>=0),
PRICE DECIMAL(6,2) NOT NULL,
FOREIGN KEY(AUTHOR_NUMBER) REFERENCES AUTHORS(AUTHOR_NUMBER) ON DELETE SET DEFAULT
);

INSERT INTO BOOKS VALUES(NULL, NULL, 'ИЗТРИТА', 1, 'ИЗТРИТ', 0, 0);
INSERT INTO BOOKS VALUES(NULL, 2999, 'ИЗТРИТА', 1, '1234567890001', 0, 0);
DELETE FROM BOOKS WHERE BOOK_NUMBER=2999;
select * from books;

CREATE TABLE CLIENTS(
CLIENT_ID IDENTITY NOT NULL,
CLIENT_NUMBER INT AUTO_INCREMENT NOT NULL UNIQUE,
NAMES NVARCHAR(100) NOT NULL,
ADDRESS NVARCHAR(100) NOT NULL
);

INSERT INTO CLIENTS VALUES(NULL, NULL, 'ИЗТРИТ', 'ИЗТРИТ');
INSERT INTO CLIENTS VALUES(NULL, 4999, 'ИЗТРИТ', 'ИЗТРИТ');
DELETE FROM CLIENTS WHERE CLIENT_NUMBER=4999;
select * from clients;

CREATE TABLE ORDERS(
ORDER_ID IDENTITY NOT NULL,
ORDER_NUMBER INT AUTO_INCREMENT NOT NULL UNIQUE,
CLIENT_NUMBER INT DEFAULT 1,
BOOK_NUMBER INT DEFAULT 1,
QUANTITY TINYINT NOT NULL,
ORDER_DATE DATE NOT NULL,
DONE BOOLEAN NOT NULL DEFAULT 0,
FOREIGN KEY(CLIENT_NUMBER) REFERENCES CLIENTS(CLIENT_NUMBER) ON DELETE SET DEFAULT,
FOREIGN KEY(BOOK_NUMBER) REFERENCES BOOKS(BOOK_NUMBER) ON DELETE SET DEFAULT
);


INSERT INTO ORDERS VALUES(NULL, 1999, 1, 1, 0, '2018-01-30', DEFAULT);
DELETE FROM ORDERS WHERE ORDER_NUMBER=1999;
select * from orders;


INSERT INTO CLIENTS VALUES(NULL, NULL, 'Димитър Иванов Спасов', 'Пловдив');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Георги Стефанов Кошарски', 'София');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Ангел Боянов Костов', 'Бургас');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Златан Станимиров Николов', 'Русе');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Найден Василов Василев', 'Варна');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Мартин Мартинов Петков', 'Стара Загора');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Станислава Петканова Стоянова', 'Пловдив');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Мария Кирилова Иванова', 'София');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Надя Иванова Верева', 'Русе');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Петя Найденова Борисова', 'Пловдив');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Димитър Иванов Соколски', 'Асеновград');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Ангел Найденов Спасов', 'Благоевград');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Ангел Мартинев Кожухов', 'Велико Търново');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Станислава Иванова Стоянова', 'Враца');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Росен Иванов Георгиев', 'Добрич');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Стоян Иванов Бисеров', 'Монтана');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Бисер Димитров Стоянов', 'Плевен');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Златан Мартинов Мераклийски', 'Шумен');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Мария Мартинова Димова', 'София');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Анелия Димитрова Игнатова', 'Асеновград');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Димо Стоянов Тенев', 'Добрич');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Стефан Руменов Златанов', 'Благоевград');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Радка Иванова Желева', 'Велико Търново');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Радомир Стоилов Немски', 'Русе');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Радомира Стоилова Немска', 'Бургас');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Светлослав Димитров Нежев', 'Стара Загора');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Светлослав Петканов Кожухов', 'Айтос');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Рени Колева Колева-Желязкова', 'Стара Загора');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Мина Плааменова Латева', 'Варна');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Стефан Илчев Илчев', 'Пловдив');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Илийчо Илиев Илиев', 'София');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Вера Николова Въргова', 'Добрич');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Нона Божинова Георгиева', 'Монтана');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Христо Николов Бакев', 'Бургас');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Петър Нинов Иванов', 'Монтана');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Ирен Ивова Йовчева', 'Асеновград');
INSERT INTO CLIENTS VALUES(NULL, NULL, 'Борислав Венциславов Сугарев', 'Русе');


INSERT INTO AUTHORS VALUES(NULL, NULL, 'Стивън Кинг');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Дж. К. Роулинг');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Джордж Р. Р. Мартин');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Лев Толстой');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Марк Твен');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Джейн Остин');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Уилям Фокнър');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Фьодр Достоевски');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Владимир Набоков');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Харпър Лий');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Дж. Р. Р. Толкин');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Дъглас Адамс');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Сюзън Колинс');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Дж. Д. Селинджър');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Маргарет Мичъл');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Паулу Коелю');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Луси Монтгомъри');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Уилям Голдинг');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Антоан дьо Сент-Екзюпери');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Артър Конан Дойл');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Джон Стайнбек');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Кърт Вонегът');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Виктор Юго');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Али Уокър');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Ричард Адамс');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Казуо Ишигуро');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Едогава Рампо');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Милен Русков');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Маркъв Сейки');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Ерих Мария Ремарк');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Ан О`Лофлин');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Мери Шели');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Ейми Кауфман');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Джей Кристоф');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Авенир Халани');
INSERT INTO AUTHORS VALUES(NULL, NULL, 'Иван Вазов');


INSERT INTO BOOKS VALUES(NULL, NULL, 'Мъглата', 1000, '9789542824947', 50, 12.00);
INSERT INTO BOOKS VALUES(NULL, NULL, 'То', 1000, '9781473666931', 250, 18.90);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Торба с кости', 1000, '9789544093792', 100, 23.00);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Дума Ки', 1000, '9789546557841', 150, 21.00);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Тъмната кула I: Стрелецът', 1000, '9781473655553', 250, 16.90);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Тъмната кула II : Трите карти', 1000, '9789544092085', 250, 16.90);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Тъмната кула III: Пустош', 1000, '9789544092108', 250, 16.90);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Хари Потър и Орденът на феникса', 1001, '9544467610', 50, 24.90);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Хари Потър и Огненият бокал', 1001, '9544466215', 50, 24.90);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Хари Потър и Философският камък', 1001, '9789544464684', 50, 19.90);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Хари Потър и затворникът от Азкабан', 1001, '9789544465575', 50, 19.90);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Хари Потър и Стаята на тайните', 1001, '9789544460501', 50, 19.90);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Хари Потър и Даровете на смъртта', 1001, '9789542701514', 50, 24.90);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Хари Потър и Нечистокръвния принц', 1001, '9544469303', 50, 24.90);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Песен за огън и лед I: Игра на тронове', 1002, '9789545852930', 100, 19.99);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Песен за огън и лед II: Сблъсък на крале', 1002, '9789545852992', 100, 19.99);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Песен за огън и лед III: Вихър от мечове', 1002, '9789545853104', 100, 19.99);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Песен за огън и лед IV: Пир за врани', 1002, '9789545859649', 100, 19.99);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Песен за огън и лед V: Танц с дракони', 1002, '9789546552655', 100, 19.99);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Тирион Ланистър', 1002, '9789546557728', 150, 14.95);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Война и мир - том 1 и 2', 1003, '9789543984275', 25, 60.00);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Възкресение', 1003, '9547398385', 25, 20.00);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Ана Каренина (комплект от 2 тома)', 1003, '9789547713017', 25, 29.00);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Том Сойер', 1004, '9789540910000', 45, 15.00);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Принцът и просякът', 1004, '9789546606983', 35, 11.90);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Повелителят на мухите', 1017, '9789542824855', 25, 16.00);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Брилянтните', 1029, '9786191572182', 25, 16.90);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Хълмът Уотършип', 1024, '9789549219012', 30, 9.00);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Отнесени от вихъра Т. 1', 1014, '9789546555540', 45, 17.99);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Отнесени от вихъра Т.2', 1014, '9789546555557', 29, 17.99);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Изгубеният свят', 1019, '9786192090173', 28, 15.00);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Шерлок Холмс (Пълно издание)', 1019, '9789543985401', 15, 47.50);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Кошмарната стая', 1019, '9789545286834', 56, 6.99);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Владетелят на Черния замък', 1019, '9545286822', 24, 6.99);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Баскервилското куче', 1019, '954597267X', 63, 7.99);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Разкази', 1035, '9789542606161', 36, 4.50);
INSERT INTO BOOKS VALUES(NULL, NULL, 'Стихотворения', 1035, '9789544396343', 37, 3.50);


INSERT INTO ORDERS VALUES(NULL, NULL, 5005, 3000, 1, '2018-01-15', DEFAULT);
INSERT INTO ORDERS VALUES(NULL, NULL, 5006, 3005, 2, '2018-01-20', TRUE);
INSERT INTO ORDERS VALUES(NULL, NULL, 5008, 3006, 3, '2018-01-30', DEFAULT);
INSERT INTO ORDERS VALUES(NULL, NULL, 5010, 3008, 1, '2018-02-01', TRUE);
INSERT INTO ORDERS VALUES(NULL, NULL, 5007, 3003, 2, '2018-02-02', FALSE);
INSERT INTO ORDERS VALUES(NULL, NULL, 5001, 3009, 1, '2018-02-02', TRUE);
INSERT INTO ORDERS VALUES(NULL, NULL, 5002, 3010, 4, '2018-02-02', FALSE);
INSERT INTO ORDERS VALUES(NULL, NULL, 5004, 3001, 1, '2018-02-02', TRUE);
INSERT INTO ORDERS VALUES(NULL, NULL, 5009, 3010, 4, '2018-02-02', DEFAULT);
INSERT INTO ORDERS VALUES(NULL, NULL, 5004, 3001, 1, '2018-02-02', TRUE);
INSERT INTO ORDERS VALUES(NULL, NULL, 5011, 3011, 1, '2018-02-02', FALSE);
INSERT INTO ORDERS VALUES(NULL, NULL, 5012, 3002, 2, '2018-02-02', TRUE);
INSERT INTO ORDERS VALUES(NULL, NULL, 5010, 3009, 1, '2018-02-03', TRUE);
INSERT INTO ORDERS VALUES(NULL, NULL, 5010, 3013, 1, '2018-02-03', FALSE);